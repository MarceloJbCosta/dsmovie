{"ast":null,"code":"import _slicedToArray from\"/Users/macbook/projetos/dsmovie/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from\"axios\";import MovieCard from\"components/MovieCard/Index\";import Pagination from\"components/Pagination\";import{useEffect,useState}from\"react\";import{BASE_URL}from\"utils/requests\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Listing(){var _useState=useState(0),_useState2=_slicedToArray(_useState,2),pageNumber=_useState2[0],setPageNumber=_useState2[1];var _useState3=useState({content:[],last:true,totalPages:0,totalElements:0,size:12,number:0,first:true,numberOfElements:0,empty:true}),_useState4=_slicedToArray(_useState3,2),page=_useState4[0],setPage=_useState4[1];useEffect(function(){axios.get(\"\".concat(BASE_URL,\"/movies?size=12&page=\").concat(pageNumber,\"&sort-id\")).then(function(response){var data=response.data;setPage(data);});},[pageNumber]);var handlePageChange=function handlePageChange(newPageNumber){setPageNumber(newPageNumber);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Pagination,{page:page,onChange:handlePageChange}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:page.content.map(function(movie){return/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-6 col-lg-4 col-xl-3 mb-3\",children:/*#__PURE__*/_jsx(MovieCard,{movie:movie})},movie.id);})})})]});}export default Listing;","map":{"version":3,"sources":["/Users/macbook/projetos/dsmovie/frontend/src/pages/Listing/index.tsx"],"names":["axios","MovieCard","Pagination","useEffect","useState","BASE_URL","Listing","pageNumber","setPageNumber","content","last","totalPages","totalElements","size","number","first","numberOfElements","empty","page","setPage","get","then","response","data","handlePageChange","newPageNumber","map","movie","id"],"mappings":"8HAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,SAAP,KAAsB,4BAAtB,CAGA,MAAOC,CAAAA,UAAP,KAAuB,uBAAvB,CACA,OAASC,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CAEA,OAASC,QAAT,KAAyB,gBAAzB,C,6IAEA,QAASC,CAAAA,OAAT,EAAmB,CAGf,cAAqCF,QAAQ,CAAC,CAAD,CAA7C,wCAAOG,UAAP,eAAmBC,aAAnB,eAGA,eAAyBJ,QAAQ,CAAY,CAEzCK,OAAO,CAAE,EAFgC,CAGzCC,IAAI,CAAE,IAHmC,CAIzCC,UAAU,CAAE,CAJ6B,CAKzCC,aAAa,CAAE,CAL0B,CAMzCC,IAAI,CAAE,EANmC,CAOzCC,MAAM,CAAE,CAPiC,CAQzCC,KAAK,CAAE,IARkC,CASzCC,gBAAgB,CAAE,CATuB,CAUzCC,KAAK,CAAE,IAVkC,CAAZ,CAAjC,yCAAOC,IAAP,eAAaC,OAAb,eAcAhB,SAAS,CAAC,UAAK,CACXH,KAAK,CAACoB,GAAN,WAAaf,QAAb,iCAA6CE,UAA7C,cACCc,IADD,CACM,SAAAC,QAAQ,CAAG,CACb,GAAMC,CAAAA,IAAI,CAAGD,QAAQ,CAACC,IAAtB,CACAJ,OAAO,CAACI,IAAD,CAAP,CAGH,CAND,EAOH,CARQ,CAQN,CAAChB,UAAD,CARM,CAAT,CAUA,GAAMiB,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,CAACC,aAAD,CAA0B,CAC/CjB,aAAa,CAACiB,aAAD,CAAb,CACH,CAFD,CAMA,mBACI,wCACI,KAAC,UAAD,EAAY,IAAI,CAAEP,IAAlB,CAAwB,QAAQ,CAAEM,gBAAlC,EADJ,cAGI,YAAK,SAAS,CAAC,WAAf,uBACI,YAAK,SAAS,CAAC,KAAf,UACKN,IAAI,CAACT,OAAL,CAAaiB,GAAb,CAAiB,SAAAC,KAAK,qBACnB,YAAoB,SAAS,CAAC,iCAA9B,uBACI,KAAC,SAAD,EAAW,KAAK,CAAEA,KAAlB,EADJ,EAAUA,KAAK,CAACC,EAAhB,CADmB,EAAtB,CADL,EADJ,EAHJ,GADJ,CAiBH,CAED,cAAetB,CAAAA,OAAf","sourcesContent":["import axios from \"axios\";\nimport MovieCard from \"components/MovieCard/Index\";\n\n\nimport Pagination from \"components/Pagination\";\nimport { useEffect, useState } from \"react\";\nimport { MoviePage } from \"types/movie\";\nimport { BASE_URL } from \"utils/requests\";\n\nfunction Listing() {\n\n\n    const [pageNumber, setPageNumber] =  useState(0);\n\n\n    const [page, setPage] =  useState<MoviePage>({\n\n        content: [],\n        last: true,\n        totalPages: 0,\n        totalElements: 0,\n        size: 12,\n        number: 0,\n        first: true,\n        numberOfElements: 0,\n        empty: true\n    });\n    \n\n    useEffect(()=> {\n        axios.get(`${BASE_URL}/movies?size=12&page=${pageNumber}&sort-id`)\n        .then(response =>{\n            const data = response.data as MoviePage;\n            setPage(data);\n\n        \n        });\n    }, [pageNumber]);\n\n    const handlePageChange = (newPageNumber : number)=>{\n        setPageNumber(newPageNumber);\n    }\n\n\n\n    return (\n        <>\n            <Pagination page={page} onChange={handlePageChange}/>\n\n            <div className=\"container\">\n                <div className=\"row\">\n                    {page.content.map(movie => (\n                        <div key={movie.id} className=\"col-sm-6 col-lg-4 col-xl-3 mb-3\">\n                            <MovieCard movie={movie} />\n                        </div>\n                    )\n                    )}   \n                </div>\n            </div>\n\n        </>\n    );\n}\n\nexport default Listing;"]},"metadata":{},"sourceType":"module"}